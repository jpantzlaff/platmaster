{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?eab9","webpack:///./src/components/Viewer.vue?58fe","webpack:///./src/components/AbsolutePointForm.vue?69bd","webpack:///./src/components/DocumentForm.vue?40ac","webpack:///./src/components/RelativePointForm.vue?f0ce","webpack:///./src/components/RelativePointForm.vue?5fcd","webpack:///./src/components/Editor.vue?b5b6","webpack:///./src/components/Viewer.vue?5aaa","webpack:///./src/env.js","webpack:///./src/App.vue?452f","webpack:///./src/components/DocumentForm.vue?28d2","webpack:///./src/Page.js","webpack:///./src/util.js","webpack:///./src/viz.js","webpack:///src/components/DocumentForm.vue","webpack:///./src/components/DocumentForm.vue?1142","webpack:///./src/components/DocumentForm.vue","webpack:///./src/components/Editor.vue?3cb8","webpack:///./src/components/AbsolutePointForm.vue?8e01","webpack:///src/components/AbsolutePointForm.vue","webpack:///./src/components/AbsolutePointForm.vue?234d","webpack:///./src/components/AbsolutePointForm.vue","webpack:///./src/export.js","webpack:///./src/components/FixedPoint.vue?c7ef","webpack:///src/components/FixedPoint.vue","webpack:///./src/components/FixedPoint.vue?ecb2","webpack:///./src/components/FixedPoint.vue","webpack:///./src/components/RelativePointForm.vue?5282","webpack:///src/components/RelativePointForm.vue","webpack:///./src/components/RelativePointForm.vue?40ad","webpack:///./src/components/RelativePointForm.vue","webpack:///./src/components/Viewer.vue?bb50","webpack:///src/components/Viewer.vue","webpack:///./src/components/Viewer.vue?da21","webpack:///./src/components/Viewer.vue","webpack:///src/components/Editor.vue","webpack:///./src/components/Editor.vue?d346","webpack:///./src/components/Editor.vue","webpack:///./src/components/Settings.vue?858f","webpack:///src/components/Settings.vue","webpack:///./src/components/Settings.vue?e21e","webpack:///./src/components/Settings.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/db.js","webpack:///./src/main.js","webpack:///./src/components/Editor.vue?1f19","webpack:///./src/components/AbsolutePointForm.vue?1bb9","webpack:///./src/components/Settings.vue?10fe","webpack:///./src/components/DocumentForm.vue?405d","webpack:///./src/components/Settings.vue?d652","webpack:///./src/components/FixedPoint.vue?c3b9"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","title","on","openSettings","pages","ref","staticRenderFns","form","previewUrl","_e","model","callback","$$v","$set","expression","nameValid","distanceUnits","bearingBasisType","crsLoading","crsNoResult","crsOptions","crsValid","crsQuery","formatDate","dateValid","magDeclinationYears","isValid","submitForm","_v","_s","submitTooltip","label","abbr","factor","year","max","Math","min","Date","getFullYear","Page","config","file","id","points","objectUrl","URL","createObjectURL","size","Promise","resolve","image","Image","src","decode","then","height","naturalHeight","width","naturalWidth","degToRad","deg","PI","destination","source","direction","distance","applyOffset","convert","x","y","dir","state","localCrs","offset","angle","directionToAngle","cos","sin","a","b","x1","y1","x2","y2","atan2","dmsToDeg","dms","sec","Error","getJson","url","params","target","entries","forEach","searchParams","append","fetch","href","text","response","JSON","parse","getMagDecl","coord","date","lon1","lat1","lat1Hemisphere","lon1Hemisphere","magneticComponent","resultFormat","startDay","getDate","startMonth","getMonth","startYear","declination","gridConvergence","crs","kind","proj","proj4","inverse","bearing","markerToXy","marker","getLatLng","lat","lng","queryProj","query","format","q","Array","isArray","results","map","accuracy","area","code","unit","radToDeg","rad","dateFormats","toLocaleDateString","settings","dateFormat","parseDirection","string","directionFormat","number","Number","isFinite","sep","noSpaces","replace","dir1","toUpperCase","dir2","split","includes","some","isNaN","setAccentColor","document","documentElement","style","setProperty","setBackgroundColor","setEditorColor","setTextColor","computed","filesValid","methods","from","files","activePage","watch","bearingBasisDate","revokeObjectURL","components","UiButton","UiDatepicker","UiFileupload","UiSelect","UiTextbox","UiTooltip","component","_l","point","pendingPoint","type","newAbsolutePoint","exportAllowed","runExport","exportTooltip","exportComplete","reload","_m","xValid","yValid","Boolean","parseFloat","nativeX","nativeY","nativeCrs","exportPages","zip","JsZip","page","pageA","pageB","localA","localX","localY","localB","pageDistance","pageDirection","localDistance","localDirection","pageRotation","unitsPerPixel","pageSize","corners","corner","pageCorner","endsWith","startsWith","pageDistToCorner","pageDirToCorner","localDistToCorner","localDirToCorner","localCorner","local","wgs84","Jimp","read","jimp","rotate","getBufferAsync","minX","Infinity","maxY","world","String","join","aux","saveAs","generateAsync","placePoint","newPointTooltip","newPointsAllowed","newRelativePoint","cursor","xyPointer","tooltipContent","props","pageHasThisPoint","placePointsAllowed","origin","activePoint","UiIconButton","directionValid","distanceValid","mapCursor","backward","forward","mounted","attributionControl","center","maxZoom","minZoom","zoom","zoomDelta","zoomSnap","addPoint","handlePage","layer","draggable","icon","className","html","keyboard","every","location","$refs","exporting","open","AbsolutePointForm","FixedPoint","RelativePointForm","UiModal","UiProgressCircular","Viewer","save","color1","color2","colorText","darkEditor","modal","ColorPicker","UiCheckbox","DocumentForm","Editor","Settings","UiToolbar","DB","schema","createTable","addColumn","Type","INTEGER","STRING","BOOLEAN","addPrimaryKey","tableName","equals","table","db","getSchema","delete","where","eq","exec","connect","values","row","createRow","insertOrReplace","insert","into","test","select","column","rel","update","set","distanceUnit","saveSettings","hex","initialize","prop","Vue","render","h","App","$mount"],"mappings":"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","file":"js/app.4a479ced.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=14e3c7a5&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=14e3c7a5&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=style&index=0&id=b22a8112&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=style&index=0&id=b22a8112&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AbsolutePointForm.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AbsolutePointForm.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentForm.vue?vue&type=style&index=0&id=657e79f5&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentForm.vue?vue&type=style&index=0&id=657e79f5&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativePointForm.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativePointForm.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativePointForm.vue?vue&type=style&index=0&id=159f1872&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativePointForm.vue?vue&type=style&index=0&id=159f1872&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&id=17d9d978&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&id=17d9d978&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=style&index=1&lang=css&\"","export const distanceUnits = [\n  {\n    label: 'Chain (India)',\n    value: {\n      abbr: 'ind-ch',\n      factor: 20.11669506\n    }\n  },\n  {\n    label: 'Chain (US)',\n    value: {\n      abbr: 'us-ch',\n      factor: 20.11684023368047\n    }\n  },\n  {\n    label: 'Foot',\n    value: {\n      abbr: 'ft',\n      factor: 0.3048\n    }\n  },\n  {\n    label: 'Foot (India)',\n    value: {\n      abbr: 'ind-ft',\n      factor: 0.30479841\n    }\n  },\n  {\n    label: 'Foot (US)',\n    value: {\n      abbr: 'us-ft',\n      factor: 0.304800609601219\n    }\n  },\n  {\n    label: 'Inch',\n    value: {\n      abbr: 'in',\n      factor: 0.0254\n    }\n  },\n  {\n    label: 'Meter',\n    value: {\n      abbr: 'm',\n      factor: 1\n    }\n  },\n  {\n    label: 'Yard',\n    value: {\n      abbr: 'yd',\n      factor: 0.9144\n    }\n  },\n  {\n    label: 'Yard (India)',\n    value: {\n      abbr: 'ind-yd',\n      factor: 0.91439523\n    }\n  },\n  {\n    label: 'Yard (US)',\n    value: {\n      abbr: 'us-yd',\n      factor: 0.914401828803658\n    }\n  }\n];\n\nconst magDeclinationYears = [];\nfor (let year = 1590, max = Math.min(new Date().getFullYear(), 2024); year < max; year++) {\n  magDeclinationYears.push(year);\n}\nexport {magDeclinationYears};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('UiToolbar',{staticClass:\"header\",attrs:{\"brand\":\"PlatMaster\",\"title\":_vm.title,\"removeNavIcon\":true}}),_c('div',{staticClass:\"settings\"},[_c('UiIconButton',{staticClass:\"setting-button\",attrs:{\"icon\":\"settings\",\"size\":\"normal\",\"tooltip\":\"Adjust the settings of the application.\"},on:{\"click\":_vm.openSettings}})],1),_c('div',{staticClass:\"rest\"},[(_vm.pages.length > 0)?_c('Editor'):_c('DocumentForm')],1),_c('Settings',{ref:\"settings\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"document-form\"},[_c('div',{staticClass:\"file-drop\"},[(_vm.form.previewUrl)?_c('div',{staticClass:\"preview\"},[_c('img',{staticClass:\"preview-image\",attrs:{\"src\":_vm.form.previewUrl}})]):_vm._e(),_c('UiFileupload',{attrs:{\"accept\":\"image/jpeg,image/png\",\"multiple\":true,\"name\":\"image_files\"},model:{value:(_vm.form.files),callback:function ($$v) {_vm.$set(_vm.form, \"files\", $$v)},expression:\"form.files\"}})],1),_c('div',{staticClass:\"form\"},[_c('UiTextbox',{attrs:{\"label\":\"Name\",\"error\":\"A name must be provided.\",\"invalid\":!_vm.nameValid},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_c('UiSelect',{attrs:{\"label\":\"Unit of distance\",\"options\":_vm.distanceUnits},model:{value:(_vm.form.distanceUnit),callback:function ($$v) {_vm.$set(_vm.form, \"distanceUnit\", $$v)},expression:\"form.distanceUnit\"}}),_c('UiSelect',{attrs:{\"label\":\"Basis of bearings\",\"options\":['Grid', 'True/geodetic north', 'Magnetic north']},model:{value:(_vm.form.bearingBasisType),callback:function ($$v) {_vm.$set(_vm.form, \"bearingBasisType\", $$v)},expression:\"form.bearingBasisType\"}}),(_vm.form.bearingBasisType === 'Grid')?_c('UiSelect',{attrs:{\"label\":\"Coordinate reference system of the grid\",\"placeholder\":\"Search a projection name, location, or SRID code\",\"disableFilter\":true,\"hasSearch\":true,\"loading\":_vm.crsLoading,\"no-results\":_vm.crsNoResult,\"options\":_vm.crsOptions,\"error\":\"A coordinate reference system must be specified.\",\"invalid\":!_vm.crsValid},on:{\"query-change\":_vm.crsQuery},model:{value:(_vm.form.crs),callback:function ($$v) {_vm.$set(_vm.form, \"crs\", $$v)},expression:\"form.crs\"}}):_vm._e(),(_vm.form.bearingBasisType === 'Magnetic north')?_c('UiDatepicker',{attrs:{\"customFormatter\":_vm.formatDate,\"label\":\"Date of survey (approximate)\",\"error\":\"A date must be provided.\",\"invalid\":!_vm.dateValid,\"appendDropdownToBody\":true,\"yearRange\":_vm.magDeclinationYears,\"orientation\":\"landscape\"},model:{value:(_vm.form.bearingBasisDate),callback:function ($$v) {_vm.$set(_vm.form, \"bearingBasisDate\", $$v)},expression:\"form.bearingBasisDate\"}}):_vm._e(),_c('UiButton',{staticClass:\"submit\",attrs:{\"disabled\":!_vm.isValid,\"size\":\"large\",\"icon\":\"library_add\"},on:{\"click\":_vm.submitForm}},[_c('UiTooltip',{attrs:{\"openDelay\":300}},[_vm._v(_vm._s(_vm.submitTooltip))]),_vm._v(\" Start \")],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default class Page {\n  constructor(config) {\n    this.file = config.file;\n    this.id = config.id;\n    this.points = [];\n    this.objectUrl = URL.createObjectURL(this.file);\n    this.size = new Promise((resolve) => {\n      const image = new Image();\n      image.src = this.objectUrl;\n      image.decode().then(() => {\n        resolve({\n          height: image.naturalHeight,\n          width: image.naturalWidth\n        });\n      });\n    });\n  }\n};","import bearing from '@turf/bearing';\nimport proj4 from 'proj4';\n\nimport {state} from './main.js';\n\nexport function degToDms(degrees) {\n  let remainder = degrees;\n  const deg = Math.floor(degrees);\n  remainder -= deg;\n  const min = Math.floor(remainder * 60);\n  remainder -= (min / 60);\n  const sec = Math.round(remainder * 3600);\n  return [deg, min, sec];\n};\n\nexport function degToRad(deg) {\n  return deg * (Math.PI / 180);\n};\n\nexport function destination(source, direction, distance, applyOffset = true, convert = true) {\n  const [x, y] = source;\n  let dir = direction;\n  if (applyOffset) {\n    dir += state.localCrs.offset;\n  }\n  if (dir < 0) dir += 360;\n  else if (dir >= 360) dir -= 360;\n  const angle = (convert) ? directionToAngle(dir) : dir;\n  return [\n    x + (distance * Math.cos(angle)),\n    y + (distance * Math.sin(angle))\n  ];\n};\n\nexport function direction(a, b) {\n  const [x1, y1] = a;\n  const [x2, y2] = b;\n  return Math.atan2(y2 - y1, x2 - x1);\n};\n\nexport function dmsToDeg(dms) {\n  const [deg, min, sec] = dms;\n  if (!(deg >= 0 && deg < 360)) {\n    throw Error('Degrees outside range 0-360');\n  }\n  if (!(min >= 0 && min < 60)) {\n    throw Error('Minutes outside range 0-60');\n  }\n  if (!(sec >= 0 && sec < 60)) {\n    throw Error('Seconds outside range 0-60');\n  }\n  return deg + (min / 60) + (sec / 3600);\n};\n\nexport function directionToAngle(direction) {\n  let n = direction;\n  n = 90 - n;\n  if (n < 0) n += 360;\n  return(degToRad(n));\n};\n\nexport async function getJson(url, params) {\n  const target = new URL(url);\n  Object.entries(params).forEach((p) => target.searchParams.append(...p));\n  let response;\n  try {\n    response = await fetch(target.href).then((r) => r.text());\n  } catch {\n    throw Error('No network connection.');\n  }\n  try {\n    return JSON.parse(response);\n  } catch {\n    throw Error(`Request to ${url} did not return JSON. Response:\\n${response}`);\n  }\n};\n\nexport async function getMagDecl(coord, date) {\n  const [lon1, lat1] = coord;\n  const year = date.getFullYear();\n  let model;\n  if (year >= 2019) {\n    model = 'WMM';\n  } else if (year >= 2000) {\n    model = 'EMM';\n  } else if (year >= 1590) {\n    model = 'IGRF';\n  } else {\n    throw Error('Magnetic declination data are not available for years prior to 1590.');\n  }\n  const response = await getJson('https://www.ngdc.noaa.gov/geomag-web/calculators/calculateDeclination', {\n    lat1,\n    lat1Hemisphere: (lat1 < 0) ? 'S' : 'N',\n    lon1,\n    lon1Hemisphere: (lon1 < 0) ? 'W' : 'E',\n    magneticComponent: 'd',\n    model,\n    resultFormat: 'json',\n    startDay: date.getDate(),\n    startMonth: date.getMonth() + 1,\n    startYear: year\n  });\n  try {\n    return response.result[0].declination;\n  } catch {\n    throw Error('A magnetic declination could not be calculated.');\n  }\n};\n\nexport function gridConvergence(crs, x, y) {\n  if (crs.kind === 'CRS-GEOGCRS') return 0;\n  const proj = proj4(crs.proj4);\n  const a = proj.inverse([x, y]);\n  const b = proj.inverse([x, y + 10]);\n  return bearing(a, b);\n};\n\nexport function markerToXy(marker) {\n  const {lat, lng} = marker.getLatLng();\n  return [lng, lat];\n};\n\nexport async function queryProj(query) {\n  const response = await getJson('https://epsg.io', {\n    format: 'json',\n    q: query\n  });\n  return (Array.isArray(response?.results))\n    ? response.results.map((r) => {\n      return {\n        accuracy: r.accuracy,\n        area: r.area,\n        code: r.code,\n        kind: r.kind,\n        name: r.name,\n        proj4: r.proj4,\n        unit: r.unit\n      };\n    })\n    : [];\n};\n\nexport function radToDeg(rad) {\n  return 180 * (rad / Math.PI);\n};","import {state} from './main.js';\nimport {\n  degToDms,\n  dmsToDeg\n} from './util.js';\n\nconst dateFormats = {\n  'YYYY-MM-DD': 'en-CA',\n  'MM/DD/YYYY': 'en-US',\n  'DD/MM/YYYY': 'en-GB'\n};\nexport function formatDate(date) {\n  return date.toLocaleDateString(dateFormats[state.settings.dateFormat]);\n};\n\nexport function formatDirection(direction) {\n  const format = state.settings.directionFormat;\n  if (format === '45.56') return String(direction);\n  let cardinal1, cardinal2, deg;\n  if (direction >= 0 && direction <= 90) {\n    cardinal1 = 'N';\n    cardinal2 = 'E';\n    deg = direction;\n  } else if (direction > 90 && direction <= 180) {\n    cardinal1 = 'S';\n    cardinal2 = 'E';\n    deg = 180 - direction;\n  } else if (direction > 180 && direction <= 270) {\n    cardinal1 = 'S';\n    cardinal2 = 'W';\n    deg = direction - 180;\n  } else {\n    cardinal1 = 'N';\n    cardinal2 = 'W';\n    deg = 360 - direction;\n  }\n  const sep = (format === 'N 45-33-36 E') ? '-' : '.';\n  return `${cardinal1} ${degToDms(deg).join(sep)} ${cardinal2}`;\n};\n\nexport function parseDirection(string) {\n  const format = state.settings.directionFormat;\n  if (format === '45.56') {\n    const number = Number(string);\n    if (Number.isFinite(number)) {\n      if (number >= 0 && number < 360) {\n        return number;\n      } else {\n        throw Error('Number outside range 0-360');\n      }\n    } else {\n      throw Error('Invalid characters in string');\n    }\n  }\n  const sep = (format === 'N 45-33-36 E') ? '-' : '.';\n  const noSpaces = string.replace(/ /g, '');\n  const dir1 = noSpaces[0].toUpperCase();\n  const dir2 = noSpaces.slice(-1).toUpperCase();\n  const dms = noSpaces.slice(1, -1).split(sep).map((x) => Number(x));\n  if (!['N', 'S'].includes(dir1)) {\n    throw Error('Invalid leading direction');\n  }\n  if (!['E', 'W'].includes(dir2)) {\n    throw Error('Invalid trailing direction');\n  }\n  if (dms.length < 3 || dms.some((x) => Number.isNaN(x))) {\n    throw Error('Invalid number');\n  }\n  if (dms[0] > 90) throw Error('Invalid number');\n  const deg = dmsToDeg(dms);\n  if (dir1 === 'N') {\n    if (dir2 === 'E') {\n      return deg;\n    } else {\n      return 360 - deg;\n    }\n  } else if (dir2 === 'E') {\n    return 180 - deg;\n  } else {\n    return 180 + deg;\n  }\n};\n\nexport function setAccentColor(value) {\n  document.documentElement.style.setProperty('--color2', value);\n};\n\nexport function setBackgroundColor(value) {\n  document.documentElement.style.setProperty('--color1', value);\n};\n\nexport function setEditorColor(value) {\n  document.documentElement.style.setProperty('--editor-filter', `invert(${value ? 1 : 0})`);\n};\n\nexport function setTextColor(value) {\n  document.documentElement.style.setProperty('--text-color', value);\n  document.documentElement.style.setProperty('--light-text-color', value.slice(0, 7) + '77');\n};","<template>\n  <div class=\"document-form\">\n    <div class=\"file-drop\">\n      <div v-if=\"form.previewUrl\" class=\"preview\">\n        <img class=\"preview-image\" :src=\"form.previewUrl\">\n      </div>\n      <UiFileupload\n        v-model=\"form.files\"\n        accept=\"image/jpeg,image/png\"\n        :multiple=\"true\"\n        name=\"image_files\"\n      />\n    </div>\n    <div class=\"form\">\n      <UiTextbox\n        v-model=\"form.name\"\n        label=\"Name\"\n        error=\"A name must be provided.\"\n        :invalid=\"!nameValid\"\n      />\n      <UiSelect\n        v-model=\"form.distanceUnit\"\n        label=\"Unit of distance\"\n        :options=\"distanceUnits\"\n      />\n      <UiSelect\n        v-model=\"form.bearingBasisType\"\n        label=\"Basis of bearings\"\n        :options=\"['Grid', 'True/geodetic north', 'Magnetic north']\"\n      />\n      <UiSelect\n        v-if=\"form.bearingBasisType === 'Grid'\"\n        v-model=\"form.crs\"\n        label=\"Coordinate reference system of the grid\"\n        placeholder=\"Search a projection name, location, or SRID code\"\n        :disableFilter=\"true\"\n        :hasSearch=\"true\"\n        :loading=\"crsLoading\"\n        :no-results=\"crsNoResult\"\n        :options=\"crsOptions\"\n        @query-change=\"crsQuery\"\n        error=\"A coordinate reference system must be specified.\"\n        :invalid=\"!crsValid\"\n      />\n      <UiDatepicker\n        v-if=\"form.bearingBasisType === 'Magnetic north'\"\n        v-model=\"form.bearingBasisDate\"\n        :customFormatter=\"formatDate\"\n        label=\"Date of survey (approximate)\"\n        error=\"A date must be provided.\"\n        :invalid=\"!dateValid\"\n        :appendDropdownToBody=\"true\"\n        :yearRange=\"magDeclinationYears\"\n        orientation=\"landscape\"\n      />\n      <UiButton\n        class=\"submit\"\n        :disabled=\"!isValid\"\n        size=\"large\"\n        icon=\"library_add\"\n        v-on:click=\"submitForm\"\n      >\n        <UiTooltip :openDelay=\"300\">{{submitTooltip}}</UiTooltip>\n        Start\n      </UiButton>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n  .document-form {\n    display: flex;\n    height: 100%;\n    padding: 1rem;\n    width: 100%;\n  }\n  .file-drop, .form {\n    display: flex;\n    flex: 1 0 50%;\n    flex-direction: column;\n    justify-content: center;\n    max-width: 50%;\n    padding: 2rem;\n  }\n  .file-drop {\n    align-items: center;\n  }\n  .file-drop > .ui-fileupload {\n    display: flex;\n    padding: 1.5rem;\n  }\n  .form {\n    overflow: hidden;\n  }\n  .preview {\n    display: flex;\n    flex: 1 1 auto;\n    padding-bottom: 1rem;\n  }\n  .preview-image {\n    max-height: 100%;\n    max-width: 100%;\n    object-fit: contain;\n  }\n  .submit {\n    margin-top: 0.5rem;\n  }\n</style>\n<style>\n  .submit > .ui-button__content {\n    width: 100%;\n  }\n</style>\n\n<script>\n\nimport {\n  UiButton,\n  UiDatepicker,\n  UiFileupload,\n  UiSelect,\n  UiTextbox,\n  UiTooltip\n} from 'keen-ui';\nimport 'keen-ui/dist/keen-ui.css';\n\nimport {distanceUnits, magDeclinationYears} from '../env.js';\nimport {state} from '../main.js';\nimport Page from '../Page.js';\nimport {queryProj} from '../util.js';\nimport {formatDate} from '../viz.js';\n\nexport default {\n  name: 'DocumentForm',\n  computed: {\n    crsValid() {\n      if (this.form.bearingBasisType === 'Grid') {\n        const keys = Object.keys(this.form.crs);\n        return (keys.includes('label') && keys.includes('value'));\n      } else {\n        return true;\n      }\n    },\n    dateValid() {\n      if (this.form.bearingBasisType === 'Magnetic north') {\n        return (this.form.bearingBasisDate instanceof Date);\n      } else {\n        return true;\n      }\n    },\n    filesValid() {\n      return (this.form.files.length > 0);\n    },\n    isValid() {\n      return (this.crsValid && this.dateValid && this.nameValid && this.filesValid);\n    },\n    nameValid() {\n      return (this.form.name.length > 0);\n    },\n    submitTooltip() {\n      if (!this.filesValid) {\n        return 'Select file(s) to georeference.';\n      } else if (!this.crsValid) {\n        return 'Provide the coordinate reference system used in the document.';\n      } else if (!this.dateValid) {\n        return 'Provide an approximate date of survey.';\n      } else if (!this.nameValid) {\n        return 'Provide a name.';\n      } else {\n        return `Proceed to georeference the selected file${(this.form.files.length > 0) ? 's' : ''}.`;\n      }\n    }\n  },\n  data() {\n    return {\n      crsLoading: false,\n      crsNoResult: false,\n      crsOptions: [],\n      distanceUnits,\n      form: state.form,\n      magDeclinationYears\n    };\n  },\n  methods: {\n    async crsQuery(term) {\n      this.crsLoading = true;\n      queryProj(term)\n        .then((results) => {\n          this.crsNoResult = false;\n          this.crsOptions = results.map((r) => {\n            return {\n              label: `SRID:${r.code}  ${r.name}`,\n              value: r\n            };\n          });\n        })\n        .catch(() => this.crsNoResult = true)\n        .finally(() => this.crsLoading = false);\n    },\n    formatDate,\n    submitForm() {\n      state.pages = Array.from(this.form.files).map((file, id) => {\n        return new Page({\n          file,\n          id\n        });\n      });\n      state.activePage = state.pages[0];\n    }\n  },\n  watch: {\n    'form.bearingBasisType': function(value) {\n      if (value !== 'Magnetic north') {\n        this.form.bearingBasisDate = null;\n      }\n    },\n    'form.files': function(value) {\n      if (this.form.previewUrl) {\n        URL.revokeObjectURL(this.form.previewUrl);\n      }\n      if (value[0]) {\n        const file = value[0];\n        this.form.previewUrl = URL.createObjectURL(file);\n        if (this.form.name === 'Untitled') {\n          this.form.name = file.name.split('.')[0];\n        }\n      }\n    }\n  },\n  components: {\n    UiButton,\n    UiDatepicker,\n    UiFileupload,\n    UiSelect,\n    UiTextbox,\n    UiTooltip\n  }\n};\n\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DocumentForm.vue?vue&type=template&id=657e79f5&scoped=true&\"\nimport script from \"./DocumentForm.vue?vue&type=script&lang=js&\"\nexport * from \"./DocumentForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DocumentForm.vue?vue&type=style&index=0&id=657e79f5&scoped=true&lang=css&\"\nimport style1 from \"./DocumentForm.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"657e79f5\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"editor\"},[_c('Viewer',{staticClass:\"view\"}),_c('div',{staticClass:\"controls\"},[_c('div',{staticClass:\"points\"},[_vm._l((_vm.state.points),function(point){return [_c('FixedPoint',{key:point.id,attrs:{\"point\":point}})]}),(_vm.state.pendingPoint && _vm.state.pendingPoint.type === 'absolute')?_c('AbsolutePointForm'):_vm._e(),(_vm.state.pendingPoint && _vm.state.pendingPoint.type === 'relative')?_c('RelativePointForm'):_vm._e(),(_vm.newPointsAllowed)?_c('UiButton',{staticClass:\"point-add\",attrs:{\"icon\":\"add\",\"tooltip\":\"Create a new point from coordinates.\"},on:{\"click\":_vm.newAbsolutePoint}},[_vm._v(\" Add Point \")]):_vm._e()],2),_c('div',{staticClass:\"control-buttons\"},[_c('UiButton',{staticClass:\"export\",attrs:{\"icon\":\"save_alt\",\"size\":\"large\",\"disabled\":!_vm.exportAllowed},on:{\"click\":_vm.runExport}},[_c('UiTooltip',{attrs:{\"openDelay\":1000}},[_vm._v(_vm._s(_vm.exportTooltip))]),_vm._v(\" Export \")],1)],1),_c('UiModal',{ref:\"exporting\",staticClass:\"exporting\",attrs:{\"dismissible\":false,\"transition\":\"fade\",\"size\":\"auto\",\"removeHeader\":true}},[(!_vm.state.exportComplete)?_c('div',{staticClass:\"progress\"},[_c('UiProgressCircular'),_c('h2',{staticClass:\"exporting-text\"},[_vm._v(\"Exporting...\")])],1):_c('div',{staticClass:\"conclusion\"},[_c('h2',{staticClass:\"complete-text\"},[_vm._v(\"Export complete\")]),_c('UiButton',{attrs:{\"icon\":\"replay\"},on:{\"click\":_vm.reload}},[_vm._v(\" Start Over \")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"point-form\"},[_vm._m(0),_c('div',{staticClass:\"xy\"},[_c('UiTextbox',{staticClass:\"x\",attrs:{\"placeholder\":\"X\",\"type\":\"number\",\"error\":\"Provide a value.\",\"invalid\":!_vm.xValid},model:{value:(_vm.point.x),callback:function ($$v) {_vm.$set(_vm.point, \"x\", $$v)},expression:\"point.x\"}}),_c('p',{staticClass:\"sep\"},[_vm._v(\",\")]),_c('UiTextbox',{staticClass:\"y\",attrs:{\"placeholder\":\"Y\",\"type\":\"number\",\"error\":\"Provide a value.\",\"invalid\":!_vm.yValid},model:{value:(_vm.point.y),callback:function ($$v) {_vm.$set(_vm.point, \"y\", $$v)},expression:\"point.y\"}})],1),_c('UiSelect',{staticClass:\"crs-select\",attrs:{\"placeholder\":\"Search projection/SRID\",\"disableFilter\":true,\"hasSearch\":true,\"loading\":_vm.crsLoading,\"no-results\":_vm.crsNoResult,\"options\":_vm.crsOptions,\"error\":\"Specify a coordinate system.\",\"invalid\":!_vm.crsValid},on:{\"query-change\":_vm.crsQuery},model:{value:(_vm.point.crs),callback:function ($$v) {_vm.$set(_vm.point, \"crs\", $$v)},expression:\"point.crs\"}}),_c('div',{staticClass:\"bottom\"},[(_vm.isValid)?_c('UiButton',{staticClass:\"submit\",attrs:{\"size\":\"normal\",\"icon\":\"check\"},on:{\"click\":_vm.submitForm}},[_vm._v(\" Confirm \")]):_vm._e()],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"top\"},[_c('p',{staticClass:\"descriptor\"},[_vm._v(\"New Point\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"point-form\">\n    <div class=\"top\">\n      <p class=\"descriptor\">New Point</p>\n    </div>\n    <div class=\"xy\">\n      <UiTextbox\n        v-model=\"point.x\"\n        class=\"x\"\n        placeholder=\"X\"\n        type=\"number\"\n        error=\"Provide a value.\"\n        :invalid=\"!xValid\"\n      />\n      <p class=\"sep\">,</p>\n      <UiTextbox\n        v-model=\"point.y\"\n        class=\"y\"\n        placeholder=\"Y\"\n        type=\"number\"\n        error=\"Provide a value.\"\n        :invalid=\"!yValid\"\n      />\n    </div>\n    <UiSelect\n      v-model=\"point.crs\"\n      class=\"crs-select\"\n      placeholder=\"Search projection/SRID\"\n      :disableFilter=\"true\"\n      :hasSearch=\"true\"\n      :loading=\"crsLoading\"\n      :no-results=\"crsNoResult\"\n      :options=\"crsOptions\"\n      @query-change=\"crsQuery\"\n      error=\"Specify a coordinate system.\"\n      :invalid=\"!crsValid\"\n    />\n    <div class=\"bottom\">\n       <UiButton\n        class=\"submit\"\n        v-if=\"isValid\"\n        size=\"normal\"\n        icon=\"check\"\n        v-on:click=\"submitForm\"\n      >\n        Confirm\n      </UiButton>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n  .top, .bottom {\n    align-items: center;\n    display: flex;\n  }\n  .descriptor {\n    flex: 1 1 auto;\n    font-weight: bold;\n    margin: 0;\n    text-align: center;\n  }\n  .point-form {\n    background-color: var(--color1);\n    border-radius: 0.125rem;\n    padding: 0.5rem 0.75rem;\n  }\n  .sep {\n    margin: 0.7em 0 0 0;\n  }\n  .submit {\n    width: 100%;\n  }\n  .xy {\n    display: flex;\n  }\n  .x {\n    padding-right: 0.25rem;\n  }\n  .y {\n    padding-left: 0.25rem;\n  }\n</style>\n<style>\n  .crs-select .ui-select__display-value {\n    max-height: 2em;\n    overflow: hidden;\n  }\n</style>\n\n<script>\n\nimport {\n  UiButton,\n  UiSelect,\n  UiTextbox\n} from 'keen-ui';\nimport 'keen-ui/dist/keen-ui.css';\nimport proj4 from 'proj4';\n\nimport {state} from '../main.js';\nimport {queryProj} from '../util.js';\n\nexport default {\n  name: 'AbsolutePointForm',\n  computed: {\n    crsValid() {\n      return Boolean(this.point.crs.value);\n    },\n    isValid() {\n      return (this.crsValid && this.xValid && this.yValid);\n    },\n    xValid() {\n      return Number.isFinite(parseFloat(this.point.x));\n    },\n    yValid() {\n      return Number.isFinite(parseFloat(this.point.y));\n    }\n  },\n  data() {\n    return {\n      state,\n      point: state.pendingPoint,\n      crsLoading: false,\n      crsNoResult: false,\n      crsOptions: []\n    };\n  },\n  methods: {\n    async crsQuery(term) {\n      this.crsLoading = true;\n      queryProj(term)\n        .then((results) => {\n          this.crsNoResult = false;\n          this.crsOptions = results.map((r) => {\n            return {\n              label: `SRID:${r.code}  ${r.name}`,\n              value: r\n            };\n          });\n        })\n        .catch(() => this.crsNoResult = true)\n        .finally(() => this.crsLoading = false);\n    },\n    submitForm() {\n      const point = {\n        id: state.points.length + 1,\n        nativeX: Number(this.point.x),\n        nativeY: Number(this.point.y),\n        nativeCrs: this.point.crs.value\n      };\n      if (state.localCrs.proj4) {\n        [point.localX, point.localY] = proj4(\n          point.nativeCrs.proj4,\n          state.localCrs.proj4,\n          [point.nativeX, point.nativeY]\n        );\n      }\n      state.points.push(point);\n      state.pendingPoint = null;\n    }\n  },\n  components: {\n    UiButton,\n    UiSelect,\n    UiTextbox\n  }\n};\n\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AbsolutePointForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AbsolutePointForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AbsolutePointForm.vue?vue&type=template&id=0ed2bfe6&scoped=true&\"\nimport script from \"./AbsolutePointForm.vue?vue&type=script&lang=js&\"\nexport * from \"./AbsolutePointForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AbsolutePointForm.vue?vue&type=style&index=0&id=0ed2bfe6&scoped=true&lang=css&\"\nimport style1 from \"./AbsolutePointForm.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ed2bfe6\",\n  null\n  \n)\n\nexport default component.exports","import distance from 'euclidean';\nimport {saveAs} from 'file-saver';\nimport Jimp from 'jimp';\nimport JsZip from 'jszip';\nimport proj4 from 'proj4';\n\nimport {state} from './main.js';\nimport {\n  destination,\n  direction,\n  markerToXy,\n  radToDeg\n} from './util.js';\n\nexport default async function exportPages() {\n  const zip = new JsZip();\n  for (let page of state.pages) {\n    const {points} = page;\n    const pageA = markerToXy(points[0].marker);\n    const pageB = markerToXy(points[1].marker);\n    const localA = [points[0].point.localX, points[0].point.localY];\n    const localB = [points[1].point.localX, points[1].point.localY];\n    const pageDistance = distance(pageA, pageB);\n    const pageDirection = direction(pageA, pageB);\n    const localDistance = distance(localA, localB);\n    const localDirection = direction(localA, localB);\n    const pageRotation = pageDirection - localDirection;\n    const unitsPerPixel = localDistance / pageDistance;\n    const pageSize = await page.size;\n    const corners = {};\n    for (let corner of ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']) {\n      const pageCorner = [\n        corner.endsWith('Left') ? 0 : pageSize.width,\n        corner.startsWith('bottom') ? 0 : pageSize.height\n      ];\n      const pageDistToCorner = distance(pageA, pageCorner);\n      const pageDirToCorner = direction(pageA, pageCorner);\n      const localDistToCorner = pageDistToCorner * unitsPerPixel;\n      let localDirToCorner = pageDirToCorner - pageRotation;\n      if (localDirToCorner < 0) localDirToCorner += (Math.PI * 2);\n      const localCorner = destination(localA, localDirToCorner, localDistToCorner, false, false);\n      corners[corner] = {\n        local: localCorner,\n        page: pageCorner,\n        wgs84: proj4(state.localCrs.proj4).inverse(localCorner)\n      };\n    }\n    const jimp = await Jimp.read(page.objectUrl);\n    jimp.rotate(radToDeg(-pageRotation));\n    zip.file(\n      `${state.form.name} - page ${page.id + 1}.png`,\n      await jimp.getBufferAsync('image/png')\n    );\n    let minX = Infinity;\n    let maxY = -Infinity;\n    for (let corner in corners) {\n      const [x, y] = corners[corner].local;\n      if (x < minX) minX = x;\n      if (y > maxY) maxY = y;\n    }\n    const world = [\n      String(unitsPerPixel),\n      '0.0',\n      '0.0',\n      String(-unitsPerPixel),\n      String(minX + unitsPerPixel),\n      String(maxY - unitsPerPixel)\n    ].join('\\n');\n    zip.file(`${state.form.name} - page ${page.id + 1}.pgw`, world);\n    const aux = `\\\n      <PAMDataset>\n        <SRS>${state.localCrs.proj4}</SRS>\n        <Metadata domain=\"IMAGE_STRUCTURE\">\n          <MDI key=\"INTERLEAVE\">PIXEL</MDI>\n        </Metadata>\n      </PAMDataset>\\\n    `.replace(/  /g, '').replace(/\\n/g, '');\n    zip.file(`${state.form.name} - page ${page.id + 1}.png.aux.xml`, aux);\n  }\n  saveAs(\n    await zip.generateAsync({type: 'blob'}),\n    `${state.form.name}.zip`\n  );\n  state.exportComplete = true;\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"point\",on:{\"click\":_vm.placePoint}},[_c('div',{staticClass:\"point-bar\"},[_c('div',{staticClass:\"point-id-badge\"},[_c('p',{staticClass:\"point-id\"},[_vm._v(_vm._s(_vm.point.id))])]),_c('UiIconButton',{staticClass:\"relative-point\",attrs:{\"icon\":\"timeline\",\"tooltip\":_vm.newPointTooltip,\"disabled\":!_vm.newPointsAllowed},on:{\"click\":_vm.newRelativePoint}})],1),_c('div',{staticClass:\"point-data\",style:({cursor: _vm.xyPointer})},[_c('UiTooltip',{attrs:{\"openDelay\":750}},[_vm._v(_vm._s(_vm.tooltipContent))]),_c('div',{staticClass:\"point-xy\"},[_c('p',{staticClass:\"point-x\"},[_vm._v(_vm._s(_vm.point.nativeX))]),_c('p',{staticClass:\"point-sep\"},[_vm._v(\",\")]),_c('p',{staticClass:\"point-y\"},[_vm._v(_vm._s(_vm.point.nativeY))])]),_c('p',{staticClass:\"point-crs\"},[_vm._v(_vm._s(_vm.point.nativeCrs.name))])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"point\"\n    v-on:click=\"placePoint\"\n  >\n    <div class=\"point-bar\">\n      <div class=\"point-id-badge\">\n        <p class=\"point-id\">{{point.id}}</p>\n      </div>\n      <UiIconButton\n        class=\"relative-point\"\n        icon=\"timeline\"\n        :tooltip=\"newPointTooltip\"\n        :disabled=\"!newPointsAllowed\"\n        v-on:click=\"newRelativePoint\"\n      />\n    </div>\n    <div\n      class=\"point-data\"\n      :style=\"{cursor: xyPointer}\"\n    >\n      <UiTooltip :openDelay=\"750\">{{tooltipContent}}</UiTooltip>\n      <div class=\"point-xy\">\n        <p class=\"point-x\">{{point.nativeX}}</p>\n        <p class=\"point-sep\">,</p>\n        <p class=\"point-y\">{{point.nativeY}}</p>\n      </div>\n      <p class=\"point-crs\">{{point.nativeCrs.name}}</p>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n  .point {\n    background-color: var(--color1);\n    border: 1.5px solid var(--color1);\n    border-radius: 0.125rem;\n    display: flex;\n    height: 4.5rem;\n    margin-bottom: 0.75rem;\n  }\n  .point-bar {\n    border: 1.5px solid var(--color1);\n    display: flex;\n    flex: 0 0 2.25rem;\n    flex-direction: column;\n  }\n  .point-data {\n    display: flex;\n    flex: 1 1 auto;\n    flex-direction: column;\n    justify-content: center;\n    padding: 0 0.5rem 0.1rem 0.5em;\n  }\n  .point-crs {\n    color: var(--light-text-color) !important;\n    flex: 0 1 auto;\n    font-size: 85%;\n    line-height: 1.25;\n    margin: 0;\n    max-height: 2rem;\n    overflow: hidden;\n    text-align: right;\n    text-overflow: ellipsis;\n  }\n  .point-id {\n    font-weight: bold;\n    margin: 0;\n  }\n  .point-id-badge {\n    align-items: center;\n    background-color: var(--color2);\n    border-bottom: 1.5px solid var(--color1);\n    display: flex;\n    justify-content: center;\n  }\n  .point-id-badge, .relative-point {\n    flex: 0 0 50%;\n  }\n  .relative-point {\n    border-radius: 0;\n    width: 100%;\n  }\n  .point-xy {\n    display: flex;\n    flex: 0 0 auto;\n    justify-content: flex-end;\n    margin-left: 0.3rem;\n  }\n  .point-x, .point-sep, .point-y {\n    margin: 0;\n  }\n  .point-sep {\n    padding-left: 0.1rem;\n    padding-right: 0.2rem;\n  }\n  .point-x, .point-y {\n    max-width: 5.5rem;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n</style>\n\n<script>\n\nimport {\n  UiIconButton,\n  UiTooltip\n} from 'keen-ui';\nimport 'keen-ui/dist/keen-ui.css';\n\nimport {state} from '../main.js';\n\nexport default {\n  name: 'FixedPoint',\n  props: ['point'],\n  computed: {\n    newPointTooltip() {\n      return (this.newPointsAllowed)\n        ? 'Create a new point relative to this one.'\n        : 'No more than two points can exist for every page.';\n    },\n    newPointsAllowed() {\n      if (this.state.pendingPoint) return false;\n      return this.state.points.length < (this.state.pages.length * 2);\n    },\n    pageHasThisPoint() {\n      return this.state.activePage.points.some((p) => p.point === this.point);\n    },\n    placePointsAllowed() {\n      return (this.state.activePage.points.length < 2);\n    },\n    tooltipContent() {\n      if (this.pageHasThisPoint) {\n        return 'This point has already been added to the page.';\n      } else if (!this.placePointsAllowed) {\n        return 'No more points can be added to the page.';\n      } else {\n        return 'Click to add this point to the page.';\n      }\n    },\n    xyPointer() {\n      return (this.pageHasThisPoint || !this.placePointsAllowed) ? 'not-allowed' : 'pointer';\n    }\n  },\n  data() {\n    return {state};\n  },\n  methods: {\n    newRelativePoint() {\n      this.state.pendingPoint = {\n        crs: {},\n        origin: this.point,\n        type: 'relative',\n        x: null,\n        y: null\n      };\n    },\n    placePoint() {\n      if (this.placePointsAllowed && !this.pageHasThisPoint) {\n        state.activePoint = this.point;\n      }\n    }\n  },\n  components: {\n    UiIconButton,\n    UiTooltip\n  }\n};\n\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FixedPoint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FixedPoint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FixedPoint.vue?vue&type=template&id=d68e7c40&scoped=true&\"\nimport script from \"./FixedPoint.vue?vue&type=script&lang=js&\"\nexport * from \"./FixedPoint.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FixedPoint.vue?vue&type=style&index=0&id=d68e7c40&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d68e7c40\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"point-form\"},[_c('div',{staticClass:\"top\"},[_c('p',{staticClass:\"descriptor\"},[_vm._v(\"New Point from \"),_c('span',{staticClass:\"id-badge\"},[_vm._v(_vm._s(_vm.origin.id))])])]),_c('div',{staticClass:\"dd\"},[_c('UiTextbox',{staticClass:\"direction\",attrs:{\"placeholder\":\"Direction\",\"error\":(\"e.g. \\\"\" + (_vm.state.settings.directionFormat) + \"\\\"\"),\"invalid\":!_vm.directionValid},model:{value:(_vm.direction),callback:function ($$v) {_vm.direction=$$v},expression:\"direction\"}}),_c('p',{staticClass:\"sep\"},[_vm._v(\",\")]),_c('UiTextbox',{staticClass:\"distance\",attrs:{\"placeholder\":\"Distance\",\"type\":\"number\",\"error\":\"e.g. \\\"1234.56\\\"\",\"invalid\":!_vm.distanceValid},model:{value:(_vm.distance),callback:function ($$v) {_vm.distance=$$v},expression:\"distance\"}})],1),_c('div',{staticClass:\"bottom\"},[(_vm.isValid)?_c('UiButton',{staticClass:\"submit\",attrs:{\"size\":\"normal\",\"icon\":\"check\"},on:{\"click\":_vm.submitForm}},[_vm._v(\" Confirm \")]):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"point-form\">\n    <div class=\"top\">\n      <p class=\"descriptor\">New Point from <span class=\"id-badge\">{{origin.id}}</span></p>\n    </div>\n    <div class=\"dd\">\n      <UiTextbox\n        v-model=\"direction\"\n        class=\"direction\"\n        placeholder=\"Direction\"\n        :error='`e.g. \"${state.settings.directionFormat}\"`'\n        :invalid=\"!directionValid\"\n      />\n      <p class=\"sep\">,</p>\n      <UiTextbox\n        v-model=\"distance\"\n        class=\"distance\"\n        placeholder=\"Distance\"\n        type=\"number\"\n        error='e.g. \"1234.56\"'\n        :invalid=\"!distanceValid\"\n      />\n    </div>\n    <div class=\"bottom\">\n      <UiButton\n        class=\"submit\"\n        v-if=\"isValid\"\n        size=\"normal\"\n        icon=\"check\"\n        v-on:click=\"submitForm\"\n      >\n        Confirm\n      </UiButton>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n  .dd {\n    display: flex;\n  }\n  .descriptor {\n    flex: 1 1 auto;\n    font-weight: bold;\n    margin: 0;\n    text-align: center;\n  }\n  .direction {\n    padding-right: 0.25rem;\n  }\n  .distance {\n    padding-left: 0.25rem;\n  }\n  .id-badge {\n    background-color: var(--color2);\n    border-radius: 0.75em;\n    display: inline-block;\n    height: 1.5em;\n    line-height: 1.5;\n    margin-left: 0.1em;\n    width: 1.5em;\n  }\n  .top, .bottom {\n    align-items: center;\n    display: flex;\n    justify-content: space-between;\n  }\n  .point-form {\n    background-color: var(--color1);\n    border-radius: 0.125rem;\n    padding: 0.5rem 0.75rem;\n  }\n  .sep {\n    margin: 0.7em 0 0 0;\n  }\n  .submit {\n    width: 100%;\n  }\n</style>\n<style>\n  .crs-select .ui-select__display-value {\n    max-height: 2em;\n    overflow: hidden;\n  }\n</style>\n\n<script>\n\nimport {\n  UiButton,\n  UiTextbox\n} from 'keen-ui';\nimport 'keen-ui/dist/keen-ui.css';\nimport proj4 from 'proj4';\n\nimport {state} from '../main.js';\nimport {destination, queryProj} from '../util.js';\nimport {parseDirection} from '../viz.js';\n\nexport default {\n  name: 'RelativePointForm',\n  computed: {\n    directionValid() {\n      try {\n        parseDirection(this.direction);\n        return true;\n      } catch {\n        return false;\n      }\n    },\n    distanceValid() {\n      return Number.isFinite(parseFloat(this.distance));\n    },\n    isValid() {\n      return (this.directionValid && this.distanceValid);\n    }\n  },\n  data() {\n    return {\n      state,\n      origin: state.pendingPoint.origin,\n      point: state.pendingPoint,\n      direction: null,\n      distance: null\n    };\n  },\n  methods: {\n    submitForm() {\n      const [localX, localY] = destination(\n        [this.origin.localX, this.origin.localY],\n        parseDirection(this.direction),\n        this.distance\n      );\n      const [nativeX, nativeY] = proj4(\n        state.localCrs.proj4,\n        this.origin.nativeCrs.proj4,\n        [localX, localY]\n      );\n      state.points.push({\n        id: state.points.length + 1,\n        localX,\n        localY,\n        nativeCrs: this.origin.nativeCrs,\n        nativeX,\n        nativeY\n      });\n      state.pendingPoint = null;\n    }\n  },\n  components: {\n    UiButton,\n    UiTextbox\n  }\n};\n\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativePointForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativePointForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RelativePointForm.vue?vue&type=template&id=159f1872&scoped=true&\"\nimport script from \"./RelativePointForm.vue?vue&type=script&lang=js&\"\nexport * from \"./RelativePointForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RelativePointForm.vue?vue&type=style&index=0&id=159f1872&scoped=true&lang=css&\"\nimport style1 from \"./RelativePointForm.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"159f1872\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"viewer\"},[_c('div',{ref:\"leaflet\",staticClass:\"map\",style:({cursor: _vm.mapCursor})}),(_vm.state.pages.length > 1)?_c('div',{staticClass:\"switcher\"},[(_vm.state.activePage.id > 0)?_c('UiIconButton',{staticClass:\"advance\",attrs:{\"icon\":\"keyboard_arrow_left\",\"size\":\"mini\",\"tooltip\":\"View previous page\"},on:{\"click\":_vm.backward}}):_vm._e(),_c('p',{staticClass:\"page-indicator\"},[_vm._v(\"Page \"+_vm._s(_vm.state.activePage.id + 1))]),(_vm.state.activePage.id < _vm.state.pages.length - 1)?_c('UiIconButton',{staticClass:\"advance\",attrs:{\"icon\":\"keyboard_arrow_right\",\"size\":\"mini\",\"tooltip\":\"View next page\"},on:{\"click\":_vm.forward}}):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"viewer\">\n    <div\n      class=\"map\"\n      ref=\"leaflet\"\n      :style=\"{cursor: mapCursor}\"\n    />\n    <div\n      class=\"switcher\"\n      v-if=\"state.pages.length > 1\"\n    >\n      <UiIconButton\n        class=\"advance\"\n        icon=\"keyboard_arrow_left\"\n        size=\"mini\"\n        tooltip=\"View previous page\"\n        v-if=\"state.activePage.id > 0\"\n        v-on:click=\"backward\"\n      />\n      <p class=\"page-indicator\">Page {{state.activePage.id + 1}}</p>\n      <UiIconButton\n        class=\"advance\"\n        icon=\"keyboard_arrow_right\"\n        size=\"mini\"\n        tooltip=\"View next page\"\n        v-if=\"state.activePage.id < state.pages.length - 1\"\n        v-on:click=\"forward\"\n      />\n    </div>\n  </div>\n</template>\n\n<style scoped>\n  .map {\n    background-color: black;\n    border-right: 0.1rem solid black;\n    border-top: 0.1rem solid black;\n    height: 100%;\n    width: 100%;\n  }\n  .page-indicator {\n    margin: 0 0.7rem;\n    user-select: none;\n    word-spacing: 0.1em;\n  }\n  .switcher {\n    align-items: center;\n    background-color: var(--color1);\n    border: 0.05rem solid black;\n    border-radius: 0.125rem;\n    bottom: 2rem;\n    box-shadow: 0 1px 5px rgba(0,0,0,0.65);\n    display: flex;\n    justify-content: space-between;\n    left: 2rem;\n    padding: 0.3rem;\n    position: absolute;\n    z-index: 1000;\n  }\n</style>\n<style>\n  .point-symbol {\n    align-items: center !important;\n    background-color: var(--color2) !important;\n    border: 0.15rem solid var(--text-color) !important;\n    border-radius: 0.75rem !important;\n    color: var(--text-color) !important;\n    display: flex !important;\n    font-size: 1.25rem !important;\n    font-weight: bold !important;\n    height: 1.5rem !important;\n    justify-content: center !important;\n    margin-left: -0.75rem !important;\n    margin-top: -0.75rem !important;\n    min-width: 1.5rem !important;\n    padding: 0 0.2rem !important;\n    width: auto !important;\n  }\n</style>\n\n<script>\n\nimport {\n  UiIconButton\n} from 'keen-ui';\nimport 'keen-ui/dist/keen-ui.css';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\nimport {state} from '../main.js';\nimport {queryProj} from '../util.js';\nimport {formatDate} from '../viz.js';\n\nexport default {\n  name: 'Viewer',\n  mounted() {\n    this.map = L.map(this.$refs.leaflet, {\n      attributionControl: false,\n      center: [0, 0],\n      crs: L.CRS.Simple,\n      maxZoom: 10,\n      minZoom: -100,\n      zoom: 0,\n      zoomDelta: 0.5,\n      zoomSnap: 0\n    });\n    this.map.on('click', this.addPoint);\n    this.handlePage();\n  },\n  computed: {\n    mapCursor() {\n      return (this.state.activePoint) ? 'crosshair' : 'grab';\n    }\n  },\n  data() {\n    return {\n      state,\n      layer: null,\n      map: null\n    };\n  },\n  methods: {\n    addPoint(event) {\n      if (state.activePoint) {\n        const marker = L.marker(event.latlng, {\n          draggable: true,\n          icon: L.divIcon({\n            className: 'point-symbol',\n            html: String(state.activePoint.id)\n          }),\n          keyboard: false\n        }).addTo(this.map);\n        state.activePage.points.push({\n          marker,\n          point: state.activePoint\n        });\n        state.activePoint = null;\n      }\n    },\n    backward() {\n      state.activePage = state.pages[state.activePage.id - 1];\n    },\n    forward() {\n      state.activePage = state.pages[state.activePage.id + 1];\n    },\n    async handlePage() {\n      state.activePoint = null;\n      const page = state.activePage;\n      const {height, width} = await page.size;\n      if (this.layer) {\n        this.layer.remove();\n      }\n      this.map.setMaxBounds(null);\n      this.map.setMinZoom(-100);\n      this.layer = L.imageOverlay(\n        page.objectUrl,\n        [[0, 0], [height, width]],\n        {className: 'editor-page'}\n      );\n      this.map.addLayer(this.layer);\n      this.map.fitBounds(this.layer.getBounds(), {\n        animate: false,\n        duration: 0,\n        padding: [50, 50]\n      });\n      this.map.setMaxBounds(this.map.getBounds());\n      this.map.setMinZoom(this.map.getZoom() + 0.01);\n    }\n  },\n  watch: {\n    'state.activePage': function() {\n      this.handlePage();\n    }\n  },\n  components: {\n    UiIconButton\n  }\n};\n\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Viewer.vue?vue&type=template&id=b22a8112&scoped=true&\"\nimport script from \"./Viewer.vue?vue&type=script&lang=js&\"\nexport * from \"./Viewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Viewer.vue?vue&type=style&index=0&id=b22a8112&scoped=true&lang=css&\"\nimport style1 from \"./Viewer.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b22a8112\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"editor\">\n    <Viewer class=\"view\" />\n    <div class=\"controls\">\n      <div class=\"points\">\n        <template v-for=\"point in state.points\">\n          <FixedPoint\n            :key=\"point.id\"\n            :point=\"point\"\n          />\n        </template>\n        <AbsolutePointForm\n          v-if=\"state.pendingPoint && state.pendingPoint.type === 'absolute'\"\n        ></AbsolutePointForm>\n        <RelativePointForm\n          v-if=\"state.pendingPoint && state.pendingPoint.type === 'relative'\"\n        ></RelativePointForm>\n        <UiButton\n          class=\"point-add\"\n          icon=\"add\"\n          tooltip=\"Create a new point from coordinates.\"\n          v-if=\"newPointsAllowed\"\n          v-on:click=\"newAbsolutePoint\"\n        >\n          Add Point\n        </UiButton>\n      </div>\n      <div class=\"control-buttons\">\n        <UiButton\n          class=\"export\"\n          icon=\"save_alt\"\n          size=\"large\"\n          :disabled=\"!exportAllowed\"\n          v-on:click=\"runExport\"\n        >\n          <UiTooltip :openDelay=\"1000\">{{exportTooltip}}</UiTooltip>\n          Export\n        </UiButton>\n      </div>\n      <UiModal\n        ref=\"exporting\"\n        class=\"exporting\"\n        :dismissible=\"false\"\n        transition=\"fade\"\n        size=\"auto\"\n        :removeHeader=\"true\"\n      >\n        <div\n          v-if=\"!state.exportComplete\"\n          class=\"progress\"\n        >\n          <UiProgressCircular />\n          <h2 class=\"exporting-text\">Exporting...</h2>\n        </div>\n        <div\n          v-else\n          class=\"conclusion\"\n        >\n          <h2 class=\"complete-text\">Export complete</h2>\n          <UiButton\n            icon=\"replay\"\n            v-on:click=\"reload\"\n          >\n            Start Over\n          </UiButton>\n        </div>\n      </UiModal>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n  .conclusion {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: -0.4rem;\n  }\n  .control-buttons {\n    padding-right: 0.3rem;\n    padding-top: 1.5rem;\n  }\n  .controls {\n    background-color: var(--color2);\n    display: flex;\n    flex: 0 0 17rem;\n    flex-direction: column;\n    padding: 0.5rem 0.2rem 0.5rem 0.5rem;\n  }\n  .complete-text {\n    margin: 0 0 1rem 0;\n  }\n  .editor {\n    display: flex;\n    height: 100%;\n    width: 100%;\n  }\n  .export {\n    background-color: var(--color1) !important;\n    width: 100%;\n  }\n  .exporting-text {\n    margin: 0 0 0 1rem;\n  }\n  .point-add {\n    background-color: var(--color1) !important;\n    width: 100%;\n  }\n  .points {\n    height: 100%;\n    overflow-y: auto;\n    padding-right: 0.3rem;\n    scrollbar-width: thin;\n  }\n  .progress {\n    align-items: center;\n    display: flex;\n    justify-content: center;\n    margin-bottom: -0.5rem;\n  }\n  .view {\n    background-color: black;\n    flex: 1 1 auto;\n  }\n</style>\n<style>\n  .export > .ui-button__content {\n    width: 100%;\n  }\n</style>\n\n<script>\n\nimport {\n  UiButton,\n  UiModal,\n  UiProgressCircular,\n  UiTooltip\n} from 'keen-ui';\nimport 'keen-ui/dist/keen-ui.css';\nimport proj4 from 'proj4';\nimport {getMagDecl, gridConvergence} from '../util.js';\n\nimport AbsolutePointForm from './AbsolutePointForm';\nimport exportPages from '../export.js';\nimport FixedPoint from './FixedPoint';\nimport {state} from '../main.js';\nimport RelativePointForm from './RelativePointForm';\nimport Viewer from './Viewer';\n\nexport default {\n  name: 'Editor',\n  mounted() {\n    if (this.state.points.length === 0 && !this.state.pendingPoint) {\n      this.state.pendingPoint = {\n        crs: {},\n        type: 'absolute',\n        x: null,\n        y: null\n      };\n    }\n  },\n  computed: {\n    exportAllowed() {\n      return this.state.pages.every((page) => page.points.length >= 2);\n    },\n    exportTooltip() {\n      return (this.exportAllowed)\n        ? 'Save the pages as georeferenced files.'\n        : 'Two points must be added to every page before exporting.';\n    },\n    newPointsAllowed() {\n      if (this.state.pendingPoint) return false;\n      return this.state.points.length < (this.state.pages.length * 2);\n    }\n  },\n  data() {\n    return {state};\n  },\n  methods: {\n    newAbsolutePoint() {\n      this.state.pendingPoint = {\n        crs: {},\n        type: 'absolute',\n        x: null,\n        y: null\n      };\n    },\n    reload() {\n      window.location.reload();\n    },\n    runExport() {\n      this.$refs.exporting.open();\n      exportPages();\n    }\n  },\n  watch: {\n    'state.points': async function(value) {\n      if (!state.localCrs.proj4 && state.points[0]) {\n        const point = state.points[0];\n        point.localX = 0;\n        point.localY = 0;\n        const [lon, lat] = proj4(point.nativeCrs.proj4).inverse([point.nativeX, point.nativeY]);\n        const unit = state.form.distanceUnit.value;\n        state.localCrs.proj4 = [\n          `PROJCS[\"${state.form.name}\"`,\n          'GEOGCS[\"GCS_WGS_1984\"',\n          'DATUM[\"WGS_1984\"',\n          'SPHEROID[\"WGS_1984\",6378137,298.257223563]]',\n          'PRIMEM[\"Greenwich\",0]',\n          'UNIT[\"Degree\",0.017453292519943295]]',\n          'PROJECTION[\"Azimuthal_Equidistant\"]',\n          'PARAMETER[\"False_Easting\",0]',\n          'PARAMETER[\"False_Northing\",0]',\n          `PARAMETER[\"Central_Meridian\",${lon}]`,\n          `PARAMETER[\"Latitude_Of_Origin\",${lat}]`,\n          `UNIT[\"${unit.abbr}\",${unit.factor}]]`\n        ].join(',');\n        const basis = state.form.bearingBasisType;\n        if (basis === 'Magnetic north') {\n          try {\n            state.localCrs.offset = await getMagDecl([lon, lat], state.form.bearingBasisDate);\n          } catch(error) {\n            console.error(error);\n          }\n        } else if (basis === 'Grid') {\n          try {\n            const [x, y] = proj4(state.form.crs.value.proj4, [lon, lat]);\n            state.localCrs.offset = gridConvergence(state.form.crs.value, x, y);\n          } catch(error) {\n            console.error(error);\n          }\n        }\n      }\n    }\n  },\n  components: {\n    AbsolutePointForm,\n    FixedPoint,\n    RelativePointForm,\n    UiButton,\n    UiModal,\n    UiProgressCircular,\n    UiTooltip,\n    Viewer\n  }\n};\n\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=17d9d978&scoped=true&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&id=17d9d978&scoped=true&lang=css&\"\nimport style1 from \"./Editor.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17d9d978\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('UiModal',{ref:\"modal\",attrs:{\"size\":\"large\",\"title\":\"Settings\",\"transition\":\"fade\",\"dismissOn\":\"close-button esc\"},on:{\"close\":_vm.save}},[_c('div',{staticClass:\"settings-section\"},[_c('h2',{staticClass:\"settings-section-title\"},[_vm._v(\"Colors\")]),_c('div',{staticClass:\"settings-group\"},[_c('div',{staticClass:\"setting\"},[_c('h3',[_vm._v(\"Primary\")]),_c('ColorPicker',{model:{value:(_vm.color1),callback:function ($$v) {_vm.color1=$$v},expression:\"color1\"}})],1),_c('div',{staticClass:\"setting\"},[_c('h3',[_vm._v(\"Secondary\")]),_c('ColorPicker',{model:{value:(_vm.color2),callback:function ($$v) {_vm.color2=$$v},expression:\"color2\"}})],1),_c('div',{staticClass:\"setting\"},[_c('h3',[_vm._v(\"Text\")]),_c('ColorPicker',{model:{value:(_vm.colorText),callback:function ($$v) {_vm.colorText=$$v},expression:\"colorText\"}})],1)]),_c('UiCheckbox',{attrs:{\"label\":\"Invert color of documents in editor\"},model:{value:(_vm.darkEditor),callback:function ($$v) {_vm.darkEditor=$$v},expression:\"darkEditor\"}})],1),_c('div',{staticClass:\"settings-section\"},[_c('h2',{staticClass:\"settings-section-title\"},[_vm._v(\"Dates\")]),_c('div',{staticClass:\"settings-group\"},[_c('div',{staticClass:\"setting\"},[_c('UiSelect',{attrs:{\"label\":\"Date format\",\"options\":['YYYY-MM-DD', 'MM/DD/YYYY', 'DD/MM/YYYY']},model:{value:(_vm.dateFormat),callback:function ($$v) {_vm.dateFormat=$$v},expression:\"dateFormat\"}})],1)])]),_c('div',{staticClass:\"settings-section input-settings\"},[_c('h2',{staticClass:\"settings-section-title\"},[_vm._v(\"Input\")]),_c('div',{staticClass:\"settings-group\"},[_c('div',{staticClass:\"setting\"},[_c('UiSelect',{attrs:{\"label\":\"Direction format\",\"options\":['45.56', 'N 45-33-36 E', 'N 45.33.36 E'],\"help\":\"When inputting, letters are case insensitive and spaces are ignored\"},model:{value:(_vm.directionFormat),callback:function ($$v) {_vm.directionFormat=$$v},expression:\"directionFormat\"}})],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <UiModal\n    ref=\"modal\"\n    size=\"large\"\n    title=\"Settings\"\n    transition=\"fade\"\n    dismissOn=\"close-button esc\"\n    @close=\"save\"\n  >\n    <div class=\"settings-section\">\n      <h2 class=\"settings-section-title\">Colors</h2>\n      <div class=\"settings-group\">\n        <div class=\"setting\">\n          <h3>Primary</h3>\n          <ColorPicker v-model=\"color1\" />\n        </div>\n        <div class=\"setting\">\n          <h3>Secondary</h3>\n          <ColorPicker v-model=\"color2\" />\n        </div>\n        <div class=\"setting\">\n          <h3>Text</h3>\n          <ColorPicker v-model=\"colorText\" />\n        </div>\n      </div>\n      <UiCheckbox\n        v-model=\"darkEditor\"\n        label=\"Invert color of documents in editor\"\n      />\n    </div>\n    <div class=\"settings-section\">\n      <h2 class=\"settings-section-title\">Dates</h2>\n      <div class=\"settings-group\">\n        <div class=\"setting\">\n          <UiSelect\n            v-model=\"dateFormat\"\n            label=\"Date format\"\n            :options=\"['YYYY-MM-DD', 'MM/DD/YYYY', 'DD/MM/YYYY']\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"settings-section input-settings\">\n      <h2 class=\"settings-section-title\">Input</h2>\n      <div class=\"settings-group\">\n        <div class=\"setting\">\n          <UiSelect\n            v-model=\"directionFormat\"\n            label=\"Direction format\"\n            :options=\"['45.56', 'N 45-33-36 E', 'N 45.33.36 E']\"\n            help=\"When inputting, letters are case insensitive and spaces are ignored\"\n          />\n        </div>\n      </div>\n    </div>\n  </UiModal>\n</template>\n\n<style scoped>\n  .input-settings .setting {\n    margin-bottom: 0;\n  }\n  .settings-group {\n    display: flex;\n    margin: -1em;\n  }\n  .settings-section:not(:last-child) {\n    margin-bottom: 1.5rem;\n  }\n  .settings-section-title {\n    margin-top: 0;\n  }\n  .setting {\n    flex: 1 0 auto;\n    margin: 1em;\n  }\n  .setting > h3 {\n    margin-top: 0;\n  }\n  .vc-chrome {\n    width: 100%;\n  }\n  .ui-checkbox {\n    margin-top: 2em;\n  }\n</style>\n<style>\n  .form > div {\n    margin-bottom: 1.5rem;\n  }\n  .input-settings .ui-select__feedback-text {\n    color: var(--light-text-color, #000000) !important;\n  }\n  .vc-chrome-toggle-btn {\n    display: none;\n  }\n  .vc-editable-input > span {\n    display: none !important;\n  }\n  .vc-input__input {\n    color: #333333 !important;\n    font-size: 0.75rem;\n    letter-spacing: 0.1em;\n  }\n</style>\n\n<script>\n\nimport {\n  UiCheckbox,\n  UiModal,\n  UiSelect\n} from 'keen-ui';\nimport 'keen-ui/dist/keen-ui.css';\nimport {Chrome as ColorPicker} from 'vue-color';\n\nimport {\n  saveSettings as save,\n  state\n} from '../main.js';\nimport {\n  setAccentColor,\n  setBackgroundColor,\n  setEditorColor,\n  setTextColor\n} from '../viz.js';\n\nexport default {\n  name: 'Settings',\n  data() {\n    return state.settings;\n  },\n  methods: {\n    open() {\n      this.$refs.modal.open();\n    },\n    save\n  },\n  watch: {\n    color1: (value) => setBackgroundColor(value.hex),\n    color2: (value) => setAccentColor(value.hex),\n    colorText: (value) => setTextColor(value.hex),\n    darkEditor: (value) => setEditorColor(value)\n  },\n  components: {\n    ColorPicker,\n    UiCheckbox,\n    UiModal,\n    UiSelect\n  }\n};\n\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=6ac7bb17&scoped=true&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=6ac7bb17&scoped=true&lang=css&\"\nimport style1 from \"./Settings.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ac7bb17\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <UiToolbar\n      class=\"header\"\n      brand=\"PlatMaster\"\n      :title=\"title\"\n      :removeNavIcon=\"true\"\n    />\n    <div class=\"settings\">\n      <UiIconButton\n        class=\"setting-button\"\n        icon=\"settings\"\n        size=\"normal\"\n        tooltip=\"Adjust the settings of the application.\"\n        v-on:click=\"openSettings\"\n      />\n    </div>\n    <div class=\"rest\">\n      <Editor v-if=\"pages.length > 0\" />\n      <DocumentForm v-else />\n    </div>\n    <Settings ref=\"settings\" />\n  </div>\n</template>\n\n<style scoped>\n  #app {\n    display: flex;\n    flex-direction: column;\n  }\n  .header {\n    background-color: var(--color2);\n    flex: 0 0 56px;\n    padding-left: 4rem;\n  }\n  .rest {\n    background-color: var(--color1);\n    flex: 1 1 auto;\n    height: 0;\n  }\n  .setting-button {\n    background-color: var(--color1) !important;\n    margin-right: 1rem;\n  }\n  .settings {\n    align-items: center;\n    display: flex;\n    height: 56px;\n    position: absolute;\n    right: 0;\n    top: 0;\n  }\n</style>\n\n<script>\n\nimport {\n  UiIconButton,\n  UiToolbar\n} from 'keen-ui';\n\nimport DocumentForm from './components/DocumentForm.vue';\nimport Editor from './components/Editor.vue';\nimport Settings from './components/Settings.vue';\nimport {state} from './main.js';\n\nexport default {\n  name: 'App',\n  computed: {\n    title() {\n      if (state.pages.length > 0) {\n        return state.form.name;\n      } else if (state.form.name) {\n        return `New document: ${state.form.name}`;\n      } else {\n        return 'New document';\n      }\n    }\n  },\n  data() {\n    return state;\n  },\n  methods: {\n    openSettings() {\n      this.$refs.settings.open();\n    }\n  },\n  components: {\n    DocumentForm,\n    Editor,\n    Settings,\n    UiIconButton,\n    UiToolbar\n  }\n};\n\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=14e3c7a5&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=14e3c7a5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14e3c7a5\",\n  null\n  \n)\n\nexport default component.exports","import {schema, Type} from 'lovefield';\n\nexport default class DB {\n  constructor() {\n    this.schema = schema.create('platmaster', 1);\n    this.schema\n      .createTable('settings')\n      .addColumn('id', Type.INTEGER)\n      .addColumn('color1', Type.STRING)\n      .addColumn('color2', Type.STRING)\n      .addColumn('colorText', Type.STRING)\n      .addColumn('darkEditor', Type.BOOLEAN)\n      .addColumn('dateFormat', Type.STRING)\n      .addColumn('directionFormat', Type.STRING)\n      .addPrimaryKey(['id'], true);\n  }\n\n  async delete(tableName, property, equals) {\n    const table = this.db.getSchema().table(tableName);\n    return this.db.delete().from(table).where(table[property].eq(equals)).exec();\n  }\n\n  async initialize() {\n    this.db = await this.schema.connect();\n  }\n\n  async insert(tableName, values, replace = false) {\n    const table = this.db.getSchema().table(tableName);\n    const props = {...values};\n    if (!props.id) props.id = 0;\n    const row = table.createRow(props);\n    const query = (replace) ? this.db.insertOrReplace() : this.db.insert();\n    return query.into(table).values([row]).exec();\n  }\n\n  async select(tableName, test = []) {\n    const table = this.db.getSchema().table(tableName);\n    const query = this.db.select().from(table);\n    if (test.length > 0) {\n      const [column, rel, value] = test;\n      return query.where(table[column][rel](value)).exec();\n    } else {\n      return query.exec();\n    }\n  }\n\n  async update(tableName, property, equals, values) {\n    const table = this.db.getSchema().table(tableName);\n    let query = this.db.update(table);\n    for (let [column, value] of Object.entries(values)) {\n      query = query.set(table[column], value);\n    }\n    return query.where(table[property].eq(equals)).exec();\n  }\n};","import Vue from 'vue';\n\nimport App from './App.vue';\nimport DB from './db.js';\n\nexport const db = new DB();\n\nexport const state = {\n  activePage: null,\n  activePoint: null,\n  exportComplete: false,\n  form: {\n    bearingBasisDate: null,\n    bearingBasisType: 'True/geodetic north',\n    crs: {},\n    distanceUnit: {\n      label: 'Meter',\n      value: {\n        abbr: 'm',\n        factor: 1\n      }\n    },\n    files: [],\n    name: 'Untitled',\n    previewUrl: null\n  },\n  localCrs: {\n    offset: 0,\n    proj4: null\n  },\n  pages: [],\n  pendingPoint: null,\n  points: [],\n  settings: {\n    color1: '#283354',\n    color2: '#212B48',\n    colorText: '#DDE6FF',\n    darkEditor: false,\n    dateFormat: 'YYYY-MM-DD',\n    directionFormat: 'N 45.33.36 E'\n  }\n};\n\nexport function saveSettings() {\n  const {color1, color2, colorText} = state.settings;\n  db.insert('settings', {\n    id: 1,\n    ...state.settings,\n    color1: (typeof color1 === 'string') ? color1 : color1.hex,\n    color2: (typeof color2 === 'string') ? color2 : color2.hex,\n    colorText: (typeof colorText === 'string') ? colorText : colorText.hex\n  }, true);\n};\n\nimport {\n  setAccentColor,\n  setBackgroundColor,\n  setTextColor,\n  setEditorColor\n} from './viz.js';\n\n(async function() {\n  await db.initialize();\n  const settings = await db.select('settings', ['id', 'eq', 1]);\n  if (settings.length > 0) {\n    const row = settings[0];\n    for (let prop in state.settings) {\n      if (row[prop]) state.settings[prop] = row[prop];\n    }\n  }\n  setAccentColor(state.settings.color2);\n  setBackgroundColor(state.settings.color1);\n  setEditorColor(state.settings.darkEditor);\n  setTextColor(state.settings.colorText);\n\n  new Vue({\n    render: (h) => h(App)\n  }).$mount('#app');\n})();","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AbsolutePointForm.vue?vue&type=style&index=0&id=0ed2bfe6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AbsolutePointForm.vue?vue&type=style&index=0&id=0ed2bfe6&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=6ac7bb17&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=6ac7bb17&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentForm.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentForm.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FixedPoint.vue?vue&type=style&index=0&id=d68e7c40&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FixedPoint.vue?vue&type=style&index=0&id=d68e7c40&scoped=true&lang=css&\""],"sourceRoot":""}